## β€ TLS/SSL ν”„λ΅ν† μ½

> TLS (Transport Layer Security)μ™€ κ·Έ μ΄μ „ λ²„μ „μΈ SSL (Secure Sockets Layer)μ€ **μΈν„°λ„· μƒμ—μ„ λ°μ΄ν„°λ¥Ό μ•μ „ν•κ² μ „μ†΅ν•κΈ° μ„ν• ν”„λ΅ν† μ½**μ΄λ‹¤. λ‘ λ‹¤ μ•”νΈν™”λ μ—°κ²°μ„ μ κ³µν•λ©°, ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ ν†µμ‹ μ„ λ³΄νΈν•λ‹¤.
> 
- OSI 7κ³„μΈµ λ¨λΈμ„ κΈ°μ¤€μΌλ΅ λ³Ό λ•, TLS/SSLμ€ μ£Όλ΅ **μ„Έμ… κ³„μΈµ**κ³Ό **μ „μ†΅ κ³„μΈµ** μ‚¬μ΄μ—μ„ λ™μ‘ν•λ‹¤. TCP/IP λ¨λΈμ—μ„ λ³Ό λ•λ” **μ „μ†΅ κ³„μΈµ**μ— κ°€κΉκ² μ„μΉν•λ‹¤.
    
    β†’ TLS/SSLμ€ μ „μ†΅ κ³„μΈµκ³Ό μ„Έμ… κ³„μΈµ μ‚¬μ΄μ—μ„ λ™μ‘ν•μ—¬ λ°μ΄ν„°μ μ•μ „ν• μ „μ†΅μ„ λ³΄μ¥ν•λ” ν”„λ΅ν† μ½
    
- HTTPλ¥Ό μλ΅ λ“¤λ©΄, HTTPλ” μ–΄ν”λ¦¬μΌ€μ΄μ… κ³„μΈµμ—μ„ λ™μ‘ν•κ³ , TCPλ” μ „μ†΅ κ³„μΈµμ—μ„ λ™μ‘ν•©λ‹λ‹¤. HTTPS(μ¦‰, HTTP over TLS)λ¥Ό μ‚¬μ©ν•  λ•, TLSλ” HTTPμ™€ TCP μ‚¬μ΄μ—μ„ λ™μ‘ν•κ² λλ‹¤. μ΄κ²ƒμ€ TLSκ°€ HTTP λ©”μ‹μ§€λ¥Ό μ•”νΈν™”ν•κ³ , κ·Έ ν›„μ— μ•”νΈν™”λ λ©”μ‹μ§€κ°€ TCPλ¥Ό ν†µν•΄ μ „μ†΅λλ‹¤λ” κ²ƒμ„ μλ―Έν•λ‹¤.

### SSL (Secure Sockets Layer)

Netscapeμ— μν•΄ 1990λ…„λ€ μ¤‘λ°μ— μ²μ κ°λ°λ λ³΄μ• ν”„λ΅ν† μ½μ…λ‹λ‹¤. SSL 3.0μ€ 1996λ…„μ— λ°ν‘λμ—μΌλ‚, μ΄ν›„μ λ³΄μ• κ²°ν•¨μΌλ΅ μΈν•΄ λ€μ²΄λμ—λ‹¤.

### TLS (Transport Layer Security)

SSL 3.0μ ν›„μ† λ²„μ „μΌλ΅, 1999λ…„μ— IETF(Internet Engineering Task Force)μ— μν•΄ ν‘μ¤€ν™”λμ—λ‹¤. TLSλ” μ§€μ†μ μΈ μ—…λ°μ΄νΈλ¥Ό κ±°μ³ ν„μ¬ κ°€μ¥ λ„λ¦¬ μ‚¬μ©λλ” λ²„μ „μ€ TLS 1.3μ΄λ‹¤.

### μ—­ν• 

1. **μΈμ¦**
    
    ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ μΈμ¦μ„λ¥Ό ν†µν•΄ μ„λ²„μ μ •μ²΄μ„±μ„ ν™•μΈν•  μ μλ‹¤. μ„ νƒμ μΌλ΅, μ„λ²„ μ—­μ‹ ν΄λΌμ΄μ–ΈνΈμ μΈμ¦μ„λ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈλ¥Ό μΈμ¦ν•  μ μλ‹¤.
    
2. **λ°μ΄ν„°μ λ¬΄κ²°μ„±**
    
    λ°μ΄ν„°κ°€ μ „μ†΅ μ¤‘μ— λ³€κ²½, μ†μƒ, λλ” λ³€μ΅°λμ§€ μ•μ•μμ„ λ³΄μ¥ν•λ‹¤.
    
3. **κΈ°λ°€μ„±**
    
    ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ— κµν™λλ” λ°μ΄ν„°λ” μ•”νΈν™”λμ–΄, μ¤‘κ°„μ κ³µκ²© λ“±μ κ³µκ²©μλ΅λ¶€ν„° λ³΄νΈλλ‹¤.
    
4. **ν¬μ›λ“ μ‹ν¬λ¦Ώ**
    
    μµκ·Όμ TLS λ²„μ „λ“¤μ€ μ„Έμ…λ§λ‹¤ μƒλ΅μ΄ ν‚¤λ¥Ό μƒμ„±ν•κΈ° λ•λ¬Έμ— ν•λ‚μ μ„Έμ… ν‚¤κ°€ λ…Έμ¶λλ”λΌλ„ λ‹¤λ¥Έ μ„Έμ…μ ν†µμ‹ μ€ μ•μ „ν•λ‹¤.
    
5. **ν™•μ¥μ„±**
    
    TLSλ” λ‹¤μ–‘ν• μ•”νΈν™” μ•κ³ λ¦¬μ¦ λ° κΈ°λ²•μ„ μ§€μ›ν•κΈ° μ„ν• ν™•μ¥ κµ¬μ΅°λ¥Ό κ°€μ§€κ³  μλ‹¤.
    

### TLS/SSL ν”„λ΅ν† μ½μ΄λΌκ³  λ¶€λ¥΄λ” μ΄μ 

**μ‚¬μ‹¤ λ‘μ€ μ„λ΅ λ‹¤λ¥Έ λ²„μ „μ ν”„λ΅ν† μ½μ΄λ‹¤.** SSLμ€ μ›λ Netscapeμ— μν•΄ 1990λ…„λ€ μ΄μ— κ°λ°λμ—κ³ , TLSλ” κ·Έ ν›„κ³„λ΅ IETFμ— μν•΄ κ°λ°λμ—λ‹¤. TLSλ” SSL 3.0μ ν›„μ† λ²„μ „μΌλ΅ μƒκ°ν•  μ μμΌλ©°, λ” μ•μ „ν•κ³  ν¨μ¨μ μΈ νΉμ§•λ“¤μ„ κ°€μ§€κ³  μλ‹¤.

κ·Έλ°λ°λ„ μ™ TLS/SSL μ΄λΌκ³  μμ£Ό μ–ΈκΈ‰λλ”μ§€μ— λ€ν• μ΄μ κ°€ μλ‹¤.

1. **μ—­μ‚¬μ  λ°°κ²½**
    
    λ§μ€ μ‚¬λλ“¤μ΄ μΈν„°λ„·μ μ΄κΈ° μ‹μ λ¶€ν„° SSLμ„ μ‚¬μ©ν•΄μ™”κΈ° λ•λ¬Έμ— "SSL"μ΄λΌλ” μ©μ–΄κ°€ λ„λ¦¬ μ•λ ¤μ Έ μλ‹¤. λ”°λΌμ„, λ§μ€ μ‚¬λλ“¤μ΄ SSLκ³Ό TLSλ¥Ό λ™μμ–΄λ΅ μ‚¬μ©ν•κ² λμ—λ‹¤.
    
2. **νΈν™μ„±**
    
    μ΄κΈ° TLS λ²„μ „μ€ SSL 3.0κ³Ό νΈν™μ„±μ„ μ μ§€ν•κΈ° μ„ν•΄ μ„¤κ³„λμ—λ‹¤. **μ΄λ΅ μΈν•΄ λ§μ€ μ‹μ¤ν…μ—μ„λ” SSLκ³Ό TLSλ¥Ό λ¨λ‘ μ§€μ›ν•κΈ°λ„ ν–λ‹¤.**
    
3. **μΌλ°μ μΈ μ‚¬μ©**
    
    μΈν„°λ„· λ³΄μ•μ— λ€ν• λ€μ¤‘μ μΈ μΈμ‹μ΄ ν™•μ‚°λλ©΄μ„ **"SSL"μ΄λΌλ” μ©μ–΄κ°€ "μ•”νΈν™”λ μ—°κ²°"μ΄λ‚ "λ³΄μ• μ—°κ²°"μ„ μλ―Έν•λ” μΌλ°μ μΈ μ©μ–΄λ΅ μ‚¬μ©λκ² λμ—λ‹¤.** λ”°λΌμ„, λ§μ€ μ‚¬λλ“¤μ΄ "SSL μΈμ¦μ„"λ‚ "SSL μ•”νΈν™”" κ°™μ€ μ©μ–΄λ¥Ό μ‚¬μ©ν•κ² λμ—λ‹¤.
    

β‡’ μµκ·Όμ—λ” λ§μ€ μ΅°μ§κ³Ό μ „λ¬Έκ°€λ“¤μ΄ SSLμ„ μ™„μ „ν νκΈ°ν•κ³  TLSλ§ μ‚¬μ©ν•λ„λ΅ κ¶μ¥ν•κ³  μλ‹¤. κ·Έλ¬λ‚, μ©μ–΄μ μ‚¬μ© μµκ΄€μ΄λ‚ μΈμ‹ λ•λ¬Έμ— "TLS/SSL"μ΄λΌλ” ν‘ν„μ΄ μ—¬μ „ν ν”ν•κ² μ‚¬μ©λλ‹¤. ν•μ§€λ§ κΈ°μ μ μΌλ΅ μ •ν™•ν•κ² ν‘ν„ν•λ ¤λ©΄ "TLS"λ¥Ό μ‚¬μ©ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.

## β€ TLS/SLL Handshake

![Alt text](image-6.png)

1. **μ‚¬μ©μ λΈλΌμ°μ € μ ‘μ†**
    
    μ‚¬μ©μκ°€ μ›Ή λΈλΌμ°μ €λ¥Ό ν†µν•΄ Aμ„λ²„μ— *https://* URL ν•μ‹μΌλ΅ μ ‘μ†μ„ μ‹λ„ν•λ‹¤.
    
2. **μΈμ¦μ„ μ”μ²­κ³Ό μ „λ‹¬**
    
    λΈλΌμ°μ €λ” μ„λ²„μ SSL μΈμ¦μ„λ¥Ό μ”μ²­ν•λ‹¤. μ„λ²„λ” μ „μ μ„λ…λ μΈμ¦μ„λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅ν•λ‹¤.
    
3. **μΈμ¦μ„μ κ²€μ¦**
    
    ν΄λΌμ΄μ–ΈνΈμ λΈλΌμ°μ €λ” μ΄λ―Έ λ‚΄μ¥λ CAμ κ³µκ°ν‚¤λ΅ μΈμ¦μ„λ¥Ό λ³µνΈν™”ν•λ‹¤. μ΄λ¥Ό ν†µν•΄ μ„λ²„μ κ³µκ°ν‚¤λ¥Ό μ–»λ”λ‹¤.
    
4. **`pre-master-key`μ μƒμ„± λ° μ „μ†΅**
    - ν΄λΌμ΄μ–ΈνΈλ” λλ¤ν• κ°’λ¥Ό μƒμ„±ν•μ—¬ `pre-master-key`λ¥Ό λ§λ“ λ‹¤. μ΄ κ°’μ€ λ‚μ¤‘μ— μ„Έμ… ν‚¤λ¥Ό λ„μ¶ν•κΈ° μ„ν• μ›λ³Έμ΄ λλ‹¤.
    - ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ κ³µκ°ν‚¤(μ„λ²„μ μΈμ¦μ„μ— ν¬ν•¨λμ–΄ μμ)λ¥Ό μ‚¬μ©ν•μ—¬ pre-master secretλ¥Ό μ•”νΈν™”ν•κ³ , μ΄ μ•”νΈν™”λ κ°’μ„ μ„λ²„μ— μ „μ†΅ν•λ‹¤.
5. **(ν΄λΌμ΄μ–ΈνΈ μΈμ¦μ„)**
    
    λ§μ•½ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈ μΈμ¦μ„λ¥Ό ν•¨κ» μ”κµ¬ν–λ‹¤λ©΄, ν΄λΌμ΄μ–ΈνΈμ μΈμ¦μ„μ™€ ν΄λΌμ΄μ–ΈνΈμ κ°μΈν‚¤λ΅ μ•”νΈν™”λ μ„μμ λ°”μ΄νΈ λ¬Έμμ—΄μ„ ν•¨κ» λ³΄λ‚΄μ¤€λ‹¤.
    
6. `**pre-master secret`μ μμ‹  λ° λ³µνΈν™”**
    
    μ„λ²„λ” (ν΄λΌμ΄μ–ΈνΈμ μΈμ¦μ„λ¥Ό ν™•μΈ ν›„) μμ‹ μ κ°μΈν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈλ΅λ¶€ν„° λ°›μ€ μ•”νΈν™”λ pre-master secretλ¥Ό λ³µνΈν™”ν•λ‹¤. μ΄λ΅μ¨, μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ λ¨λ‘ λ™μΌν• pre-master secret κ°’μ„ κ°€μ§€κ² λλ‹¤.
    
7. **λ€μΉ­ν‚¤ μƒμ„±**
    
    μ΄μ  ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” κ°μ pre-master secretμ™€ ν•¨κ» ν•Έλ“μ‰μ΄ν¬ κ³Όμ •μ—μ„ κµν™λ λ‹¤λ¥Έ λλ¤ν• κ°’λ“¤ (μ: ν΄λΌμ΄μ–ΈνΈ λλ¤, μ„λ²„ λλ¤)μ„ κ²°ν•©ν•μ—¬ **μ‹¤μ  μ„Έμ… ν‚¤λ¥Ό μƒμ„±ν•λ‹¤**. **μ΄λ ‡κ² μƒμ„±λ μ„Έμ… ν‚¤λ” λ€μΉ­ν‚¤ μ•”νΈν™”μ— μ‚¬μ©λλ‹¤.**
    
8. **λ€μΉ­ν‚¤ ν™•μΈ**
    - ν•Έλ“μ‰μ΄ν¬ κ³Όμ •μ—μ„ κµν™λ λ¨λ“  λ©”μ‹μ§€μ λ¬΄κ²°μ„±μ„ ν™•μΈν•κΈ° μ„ν• κ³Όμ •
    - ν΄λΌμ΄μ–ΈνΈλ” handshake κ³Όμ •μ΄ μ™„λ£λμ—λ‹¤λ”Β `finished`Β λ©”μ‹μ§€λ¥Ό μ„λ²„μ— λ³΄λ‚΄λ©΄μ„, μ§€κΈκΉμ§€ λ³΄λ‚Έ κµν™ λ‚΄μ—­λ“¤μ„ ν•΄μ‹± ν›„ κ·Έ κ°’μ„ λ€μΉ­ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ κ°™μ΄ λ‹΄μ•„ λ³΄λ‚΄μ¤€λ‹¤.
    - μ„λ²„λ„ λ™μΌν•κ² κµν™ λ‚΄μ©λ“¤μ„ ν•΄μ‹±ν• λ’¤ ν΄λΌμ΄μ–ΈνΈμ—μ„ λ³΄λ‚΄μ¤€ κ°’κ³Ό μΌμΉν•λ” μ§€ ν™•μΈν•λ‹¤. μΌμΉν•λ©΄ μ„λ²„λ„ λ§μ°¬κ°€μ§€λ΅Β `finished`Β λ©”μ‹μ§€λ¥Ό μ΄λ²μ— λ§λ“  λ€μΉ­ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ λ³΄λ‚Έλ‹¤.
9. **μ•”νΈν™”λ ν†µμ‹ μ μ‹μ‘**
    
    ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ„Έμ… ν‚¤λ¥Ό ν™•λ³΄ν• ν›„, μ΄ ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ λ¨λ“  λ©”μ‹μ§€λ¥Ό μ•”νΈν™” λ° λ³µνΈν™”ν•λ©° μ•μ „ν•κ² ν†µμ‹ ν•λ‹¤.
    

β‡’ **ν•μ΄λΈλ¦¬λ“ λ°©μ‹** μ‚¬μ©

- λΉ„λ€μΉ­ν‚¤(κ³µκ°ν‚¤) λ°©μ‹
    
    ν•Έλ“μ‰μ΄ν¬ κ³Όμ •μ—μ„ ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ κ³µκ°ν‚¤λ΅ λ°μ΄ν„°λ¥Ό μ•”νΈν™”ν•΄μ„ μ „μ†΅. μ„λ²„λ” μμ‹ μ κ°μΈν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ λ°μ΄ν„°λ¥Ό λ³µνΈν™” β†’ μ΄λ ‡κ² ν•΄μ„ λ‘ μ‚¬μ΄μ— μ•μ „ν•κ² ν†µμ‹ ν•λ©΄μ„ κ³µμ ν•  λ€μΉ­ν‚¤λ¥Ό κ²°μ •ν•κ² λλ‹¤.
    
- λ€μΉ­ν‚¤ λ°©μ‹
    
    ν•λ² ν•Έλ“μ‰μ΄ν¬κ°€ μ™„λ£λλ©΄, μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈλ” κµν™λ μ •λ³΄λ¥Ό κΈ°λ°μΌλ΅ μ‹¤μ  μ„Έμ… ν‚¤λ¥Ό μƒμ„±ν•λ‹¤. μ΄ μ„Έμ… ν‚¤λ” λ€μΉ­ν‚¤λ΅, μ•”νΈν™”μ™€ λ³µνΈν™”μ— λ™μΌν• ν‚¤κ°€ μ‚¬μ©λλ‹¤. μ΄ν›„ λ¨λ“  ν†µμ‹ μ€ μ΄ λ€μΉ­ν‚¤λ¥Ό μ‚¬μ©ν•΄μ„ μ•”νΈν™”λμ–΄ μ „μ†΅λλ‹¤.
    

## β€ μ°Έκ³  μλ£

[SSL μΈμ¦μ„λ€ λ¬΄μ—‡μΈκ°€μ”? - SSL/TLS μΈμ¦μ„ μ„¤λ… - AWS](https://aws.amazon.com/ko/what-is/ssl-certificate/)

[[λΈλΌμ°μ €μ— URL μ…λ ¥ ν›„ μΌμ–΄λ‚λ” μΌλ“¤] 5_TLS/SSL Handshake](https://wangin9.tistory.com/entry/λΈλΌμ°μ €μ—-URL-μ…λ ¥-ν›„-μΌμ–΄λ‚λ”-μΌλ“¤-5TLSSSL-Handshake)

[HTTP & HTTPS | π‘¨π»β€π’» Tech Interview](https://gyoogle.dev/blog/computer-science/network/HTTP%20&%20HTTPS.html)